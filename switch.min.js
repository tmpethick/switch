(function(){"use strict";var t=function(){var t=(document.body||document.documentElement).style;return"transition"in t||"WebkitTransition"in t||"MozTransition"in t||"msTransition"in t||"OTransition"in t}(),i=function(s,e){var n,o=document.createElement("_");if("classList"in o&&"getBoundingClientRect"in o&&document.addEventListener&&"ontouchstart"in window&&t){this.el=s,this.options=e||{};for(n in i.defaults)i.defaults.hasOwnProperty(n)&&void 0===this.options[n]&&(this.options[n]=i.defaults[n]);this.init()}};i.defaults={classPrefix:"js-switch-",styleClass:"switch"},i.prototype.init=function(){var t=this.background=document.createElement("div");t.className=this.options.classPrefix+"background",this.el.appendChild(t);var i=this.button=document.createElement("div");i.className=this.options.classPrefix+"button",this.el.appendChild(i),this.input=document.getElementById(this.el.getAttribute("for")),this.input.classList.add(this.options.classPrefix.substring(0,this.options.classPrefix.length-1)),this.input.classList.add(this.options.styleClass),this.containerRect=this.el.getBoundingClientRect(),this.buttonRect=this.button.getBoundingClientRect(),this.maxX=this.containerRect.width-this.buttonRect.width-2,this.minX=0,this.currentX=null,this.el.addEventListener("touchstart",this._touchStart.bind(this)),this.el.addEventListener("touchmove",this._touchMove.bind(this)),this.el.addEventListener("touchend",this._touchEnd.bind(this))},i.prototype._touchStart=function(t){if(!this.input.disabled){var i=t.targetTouches[0];this.relativeButtonTouchStartX=i.clientX-this.button.getBoundingClientRect().left,this.el.classList.add(this.options.classPrefix+"active"),this.input.checked||this.el.classList.add(this.options.classPrefix+"minimum"),t.preventDefault()}},i.prototype._touchMove=function(t){if(!(this.input.disabled||"radio"===this.input.getAttribute("type").toLowerCase()&&this.input.checked)){var i,s=this.el.getBoundingClientRect(),e=t.targetTouches[0];i=e.clientX-s.left-this.relativeButtonTouchStartX,i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX),this.button.style.left=""+i+"px",this.background.style.width=""+(this.buttonRect.width+i)+"px",0>=i?this.el.classList.add(this.options.classPrefix+"minimum"):this.el.classList.remove(this.options.classPrefix+"minimum"),this.currentX=i,t.preventDefault()}},i.prototype._touchEnd=function(t){this.input.disabled||(this.el.classList.remove(this.options.classPrefix+"active"),this.checkInput(null!==this.currentX?this.currentX>=this.maxX/2?!0:!1:!this.input.checked),this.input.checked&&this.el.classList.remove(this.options.classPrefix+"minimum"),this.button.style.left="",this.background.style.width="",this.currentX=null,t.preventDefault())},i.prototype.checkInput=function(t){("radio"!==this.input.getAttribute("type").toLowerCase()||t)&&(this.input.checked=t)},this.jsSwitch=i}).call(this);
